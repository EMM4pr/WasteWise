<%#= link_to "<<", root_path, class:"link" %>
<div data-controller="dispoal-modal">
  <div data-dispoal-modal-target="modal" class="hidden-modal hidden" tabindex="-1">
    <p>Hang tight!</p>
    <div class="gif">
    <%= image_tag "other/teddy-bear.gif" %>
    </div>
    <p>Our virtual acrobats are doing somersaults to bring in the content.</p>
  </div>
  <div class="item-container">
    <%= cl_image_tag @waste_item.photo.key, class: "card-img-top img-fluid" %>

    <div class="waste-container">
      <h2><%= @waste_item.name %></h2>
      <!-- Button trigger modal -->
      <button type="button" class="btn-info" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
        Learn More
      </button>
    </div>

    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="staticBackdropLabel">Learn more</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <% if @waste_item.bin_type.name == "Organic Waste" %>
              <%= render "waste_items/bin_type_texts/organic_bin" %>
            <% elsif @waste_item.bin_type.name == "Recycling" %>
              <%= render "waste_items/bin_type_texts/yellow_bin" %>
            <% elsif @waste_item.bin_type.name == "Paper" %>
              <%= render "waste_items/bin_type_texts/blue_bin" %>
            <% elsif @waste_item.bin_type.name == "Glass" %>
              <%= render "waste_items/bin_type_texts/glass_bin" %>
            <% elsif @waste_item.bin_type.name == "Household Waste" %>
              <%= render "waste_items/bin_type_texts/household_bin" %>
            <% elsif @waste_item.bin_type.name == "Bulky Waste" %>
              <%= render "waste_items/bin_type_texts/bulky_bin" %>
              <% else %>
              <p>Sorry, that bin does not exist üóëÔ∏è</p>
            <% end %>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn-info button" data-bs-dismiss="modal">Okay</button>
          </div>
        </div>
      </div>
    </div>

    <p style="padding: 5px;">Find <%= @waste_item.bin_type.name %> bins on the map below</p>
  </div>

  <div class="map-container">
    <div style="width: 100%; height: 600px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
    <p style="padding: 5px;">Navigate to the nearest <%= @waste_item.bin_type.name %> with Google Maps by clicking on the address!</p>
  </div>


  <div class="modal fade" id="staticBackdrop" data-dispoal-modal-target="disposal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <button type="button" class="btn btn-primary d-none" data-bs-toggle="modal" data-bs-target="#exampleModal" data-dispoal-modal-target="button">
      Launch demo modal
    </button>

    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content" data-dispoal-modal-target="modal">
        <div class="modal-header">Did you give the trash its grand farewell?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" data-action="click->dispoal-modal#close" data-dispoal-modal-target="form"></button>
        </div>
        <div class="modal-footer">
        <%= simple_form_for @disposal_record do |f| %>
          <%= f.input :waste_item_id, as: :hidden, input_html: {value: @waste_item.id} %>
          <%= f.submit "üóëÔ∏è Disposed!", class:"button link"%>
        <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
